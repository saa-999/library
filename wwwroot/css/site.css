/* ---------- THEME ---------- */
:root {
    --bg: #ffffff;
    --fg: #0b1220;
    --muted: #667085;
    --line: #e6e8ec;
    --card: #ffffff;
    --accent: #7c3aed;
    --accent2: #22d3ee;
    --ok: #0b3b2e;
}

* {
    box-sizing: border-box
}

html, body {
    height: 100%
}

body {
    margin: 0;
    background: var(--bg);
    color: var(--fg);
    font-family: Inter,system-ui,Segoe UI,Roboto,sans-serif
}

/* Canvas full screen for slime */
#slime {
    position: fixed;
    inset: 0;
    z-index: -1;
    display: block
}

/* top header (not on login) */
.topbar {
    position: sticky;
    top: 0;
    z-index: 5;
    backdrop-filter: saturate(1.2) blur(6px);
    display: flex;
    gap: 12px;
    align-items: center;
    justify-content: space-between;
    padding: 12px 18px;
    border-bottom: 1px solid var(--line);
    background: rgba(255,255,255,.8)
}

.brand {
    font-weight: 700
}

.topsearch {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap
}

    .topsearch input, .topsearch select, .topsearch .btn {
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid var(--line);
        background: #fff;
        color: var(--fg)
    }

.chk {
    display: flex;
    align-items: center;
    gap: 6px;
    color: var(--muted)
}

.rating-select {
    min-width: 160px
}

.logout {
    margin-inline-start: auto
}

.btn {
    display: inline-block;
    padding: 10px 14px;
    border-radius: 12px;
    border: 1px solid var(--line);
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: white;
    font-weight: 600;
    cursor: pointer
}

    .btn.secondary {
        background: #f5f6f8;
        color: var(--fg)
    }

    .btn.wide {
        width: 100%
    }

/* page container */
.page {
    min-height: calc(100vh - 64px);
    padding: 20px
}

/* grid cards */
.grid {
    display: grid;
    gap: 16px;
    grid-template-columns: repeat( auto-fill, minmax(220px, 1fr) );
}

.card {
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 12px 30px rgba(16,24,40,.06);
    transition: transform .12s ease, box-shadow .2s ease
}

    .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 40px rgba(16,24,40,.12)
    }

    .card.white .info {
        padding: 12px
    }

    .card.book .cover {
        width: 100%;
        aspect-ratio: 3/4;
        background-color: #f3f4f6;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        animation: popin .5s ease both
    }

@keyframes popin {
    from {
        transform: scale(.98);
        opacity: .0
    }

    to {
        transform: scale(1);
        opacity: 1
    }
}

.card .title {
    font-weight: 650;
    line-height: 1.35;
    margin-bottom: 6px
}

.meta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    color: var(--muted);
    font-size: 13px
}

.badge {
    display: inline-block;
    padding: 3px 8px;
    border-radius: 999px;
    border: 1px solid var(--line);
    background: #fafafa
}

    .badge.ok {
        background: linear-gradient(0deg, rgba(6,78,59,.15), transparent 60%);
        border-color: #d1fae5
    }

/* rating stars (mask) */
.stars {
    position: relative;
    height: 18px;
    margin-top: 8px;
    -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 24'%3E%3Cpolygon fill='%23fff' points='12,0 15,8 24,9 17,14 19,22 12,18 5,22 7,14 0,9 9,8'/%3E%3C/svg%3E") center/contain repeat-x;
    mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 24'%3E%3Cpolygon fill='%23fff' points='12,0 15,8 24,9 17,14 19,22 12,18 5,22 7,14 0,9 9,8'/%3E%3C/svg%3E") center/contain repeat-x;
    background: #e5e7eb
}

    .stars .fill {
        position: absolute;
        inset: 0;
        background: linear-gradient(90deg, #fbbf24, #f59e0b)
    }

/* login page */
.theme-login {
    background: linear-gradient(180deg,#f8f9fb, #ffffff)
}

.login-wrap {
    width: min(440px, 94vw);
    margin: 8vh auto;
    padding: 18px;
    border: 1px solid var(--line);
    border-radius: 18px;
    background: #fff;
    box-shadow: 0 18px 50px rgba(16,24,40,.08)
}

.login-title {
    margin: 0 0 14px;
    text-align: center
}

.login-form.column {
    display: flex;
    flex-direction: column;
    gap: 10px
}

.login-form input {
    width: 100%;
    padding: 12px;
    border-radius: 12px;
    border: 1px solid var(--line);
    background: #fff;
    color: var(--fg)
}

.error {
    color: #dc2626;
    min-height: 22px
}

/* entrance */
.fade-in {
    animation: fade .45s ease-out both
}

@keyframes fade {
    from {
        opacity: 0;
        transform: translateY(6px)
    }

    to {
        opacity: 1;
        transform: translateY(0)
    }
}

/* empty state */
.empty {
    color: #667085;
    padding: 20px;
    text-align: center
}
